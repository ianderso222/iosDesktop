function drawLine(e,t,n,o){var c=document.getElementById("hex").value,o=document.getElementById("brushSlider").value;-1==lastX&&(lastX=t,lastY=n),e.strokeStyle=c,e.lineWidth=o,e.lineCap="round",e.beginPath(),e.moveTo(lastX,lastY),e.lineTo(t,n),e.stroke(),e.closePath(),lastX=t,lastY=n}function clearCanvas(e,t){t.clearRect(0,0,e.width,e.height)}function sketchpad_mouseDown(){mouseDown=1,drawLine(ctx,mouseX,mouseY,12)}function sketchpad_mouseUp(){mouseDown=0,lastX=-1,lastY=-1}function sketchpad_touchEnd(){lastX=-1,lastY=-1}function sketchpad_mouseMove(e){getMousePos(e),1==mouseDown&&drawLine(ctx,mouseX,mouseY,12)}function getMousePos(e){if(!e)var e=event;e.offsetX?(mouseX=e.offsetX,mouseY=e.offsetY):e.layerX&&(mouseX=e.layerX,mouseY=e.layerY)}function sketchpad_touchStart(){getTouchPos(),drawLine(ctx,touchX,touchY,12),event.preventDefault()}function sketchpad_touchMove(e){getTouchPos(e),drawLine(ctx,touchX,touchY,12),event.preventDefault()}function getTouchPos(e){if(!e)var e=event;if(e.touches&&1==e.touches.length){var t=e.touches[0];touchX=t.pageX-t.target.offsetLeft,touchY=t.pageY-t.target.offsetTop}}function init(){canvas=document.getElementById("canvasDiv"),canvas.getContext&&(ctx=canvas.getContext("2d")),ctx&&(canvas.addEventListener("mousedown",sketchpad_mouseDown,!1),canvas.addEventListener("mousemove",sketchpad_mouseMove,!1),window.addEventListener("mouseup",sketchpad_mouseUp,!1),canvas.addEventListener("touchstart",sketchpad_touchStart,!1),canvas.addEventListener("touchmove",sketchpad_touchMove,!1),canvas.addEventListener("touchend",sketchpad_touchEnd,!1))}document.getElementById("space").style.backgroundColor="#303030",$("#hex").on("change keyup paste click",function(){var e=document.getElementById("hex").value;document.getElementById("space").style.backgroundColor=e});var canvas,ctx,mouseX,mouseY,mouseDown=0,touchX,touchY,lastX,lastY=-1;$("#clear").on("click",function(){ctx.clearRect(0,0,canvas.width,canvas.height)}),document.getElementById("reset").onclick=function(){document.getElementById("hex").value="#303030",document.getElementById("brushSlider").value=50,document.getElementById("space").style.backgroundColor="#303030"},document.getElementById("blackBtn").onclick=function(){document.getElementById("hex").value="#303030",document.getElementById("space").style.backgroundColor="#303030"},document.getElementById("whiteBtn").onclick=function(){document.getElementById("hex").value="#FFFFFF",document.getElementById("space").style.backgroundColor="#FFFFFF"},document.getElementById("redBtn").onclick=function(){document.getElementById("hex").value="#FF7373",document.getElementById("space").style.backgroundColor="#FF7373"},document.getElementById("orangeBtn").onclick=function(){document.getElementById("hex").value="#FFB473",document.getElementById("space").style.backgroundColor="#FFB473"},document.getElementById("yellowBtn").onclick=function(){document.getElementById("hex").value="#FFEE73",document.getElementById("space").style.backgroundColor="#FFEE73"},document.getElementById("blueBtn").onclick=function(){document.getElementById("hex").value="#63B8FF",document.getElementById("space").style.backgroundColor="#63B8FF"},document.getElementById("greenBtn").onclick=function(){document.getElementById("hex").value="#A4FF73",document.getElementById("space").style.backgroundColor="#A4FF73"},document.getElementById("purpBtn").onclick=function(){document.getElementById("hex").value="#D284FF",document.getElementById("space").style.backgroundColor="#d284ff"},$("#dropdownArea").click(function(){$("#windowPaintMenu").toggleClass("hideMenu showMenu"),$("#windowPaintMenu > *").click(function(e){e.stopPropagation()})});